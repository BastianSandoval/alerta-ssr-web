<div class="row">
   <div [ngClass]="clickMark ? 'col-7' : 'col-12'">
      <agm-map [styles]='[
         {
            elementType : "labels.icon",
            stylers : [{
               visibility : "off"
            }]
         }]' 
         [latitude]="lat" 
         [longitude] ="lng" 
         [zoom]="zoom" 
         [mapTypeId]="mapTypeId" 
         (zoomChange)="changeMapZoom($event)"
         (mapClick)="mapClicked($event)">

         <agm-marker [latitude]="lat" [longitude] ="lng" *ngIf="located">
            <agm-info-window>
               Reportes ambiental 
            </agm-info-window>
         </agm-marker>
         <agm-marker *ngFor="let report of reportList" 
            [latitude]="report.location.latitude" 
            [longitude] ="report.location.longitude"
            [iconUrl]="icon"
            (markerClick)="markerClicked($event)">
         </agm-marker >
      </agm-map>
   </div>
   <ng-template [ngIf]="clickMark">
      <div class="col-5">
         <div class="row m-0 mb-3">
            <div class="col text-center">
               <img [src]="reporte.imageUrl" alt="" class="img-fluid img-thumbnail shadow-sm" style="max-height: 15vh;" data-toggle="modal" data-target="#exampleModal2">
            </div>
         </div>

         <div class="row">
            <h4 class="mb-0" style="color: #000000; font-size: 2.8vh; font-weight: bold;">{{reporte.title | uppercase}}</h4>
            <p class="mb-5" class="lead" style="color: #96AC78; font-size: 2vh; font-weight: normal;">Fecha: {{reporte.createdAt | date: 'd/M/yy h:mm:ss'}}</p>
         </div>

         <div class="row">
            <h5 class="text-uppercase mt-1 mb-0" style="color: #000000; font-size:2.2vh; font-weight: bold;">Descripci√≥n del Reporte</h5>
            <p class=" mb-1" style="color: #676767;">{{reporte.description}}</p>
         </div>

         <div class="row mt-4 justify-content-center">
            <div class="col-6">
              <div class="card bg-brand" style="border-radius: 20px;">
                <div class="card-body py-1 text-center">
                  <h5 class="text-white" style="font-weight: normal; font-size: 2.4vh; margin-bottom: 0.8vh;">Validaciones</h5>
                  <h4 class="lead text-white text-brand-secondary mb-0" style="font-size: 2.4vh; margin-bottom:1vh;">{{reporte.checks}}</h4>
                </div>
              </div>
            </div>
          </div>
         
          <div class="row mt-4">
            <div class="col-12">
               <h4 class="text-uppercase mb-0" style="color: #000000; font-size:2.2vh; font-weight: 700;">Comentarios</h4>
               <hr class="py-0">
         
               <div class="row" style="max-height: 15vh; overflow-y: scroll;">
                 <div class="col">
                   <div class="card shadow-sm mb-2" style="border-radius: 30px;"
                     *ngFor="let comment of comments"
                   >
                     <div class="card-body py-2">
                       <h5 class="card-title text-brand mb-0" style="font-size: 1.9vh;">{{comment.user.names | uppercase}}</h5>
                       <p class="card-text" style="color: #000000; font-size: 2vh;">{{comment.description | capitalize}}</p>
                     </div>
                   </div>
                 </div>
               </div>

         
               <div class="row mt-4"> 
                   <div class="card" style="border:none">
                     <form [formGroup]="checkoutForm" #commentForm="ngForm"  (ngSubmit)="saveComment($event)">
                       <div class="pt-3" style="font-weight: 600;">
                         ESCRIBIR NUEVO COMENTARIO
                       </div>
                       <div  class="card-body">
                         <textarea type="text" class="form-control" formControlName="comentario"></textarea>
                         <small id="comment" class="form-text text-muted" *ngIf=" commentForm.submitted && controlIsRequired('comentario')"> Requerido  </small>
                         <div class="row text-end">
                            <div class="col">
                              <button class="btn bg-brand text-white mt-3 col-4"  type="submit" style="font-size: 2.4vh; border-radius: 50px; padding-bottom: 5px;">COMENTAR</button>
                           </div>
                         </div>
                         
                       </div>
                       
                   </form>
                   </div>
               </div>
         
               
             </div>
          </div>


      </div>
   </ng-template>
</div>