<div class="row justify-content-center">
    <div class="col-11 col-lg-10 " style="background-color: rgb(234, 238, 226)">
        <div class="container-fluid pt-4">
            <form [formGroup]="checkoutForm" (ngSubmit)="saveDog($event)">
                <div class="row">
                    <div class="col py-3 py-lg-4 px-3 px-lg-5">
                        <label for="nameDog" class="fw-bolder">TÍTULO</label>
                        <input id="nameDog" type="text" class="form-control" formControlName="nameDog" aria-label="nameDog">
                        <div id='mensaje'>
                            <small id="nameDogHelp" class="form-text text-muted" *ngIf="(nameDog?.dirty || nameDog?.touched) && nameDog?.invalid && nameDog?.errors?.required"> Requerido  </small>
                        </div>
                    </div>
                    <div class="col py-3 py-lg-4 px-3 px-lg-5">
                        <label for="nameOwner" class="fw-bolder">CATEGORÍA</label>
                        <input id="nameOwner" type="text" class="form-control" formControlName="nameOwner" aria-label="Nombre y Apellido">
                        <div id="mensaje">
                            <small id="nameOwnerHelp" class="form-text text-muted" *ngIf="(nameOwner?.dirty || nameOwner?.touched) && nameOwner?.invalid && nameOwner?.errors?.required"> Requerido</small>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-6 py-3 py-lg-4 px-3 px-lg-5">
                        <label for="nameOwner" class="fw-bolder">FECHA REPORTE: </label>
                        <input class="form-control"type="date" name="fecha" style="padding-left: 4%;" value="1999-11-15">
                        <!-- <input id="nameOwner" type="text" class="form-control" formControlName="nameOwner" aria-label="Nombre y Apellido"> -->
                        <div id="mensaje">
                            <small id="nameOwnerHelp" class="form-text text-muted" *ngIf="(nameOwner?.dirty || nameOwner?.touched) && nameOwner?.invalid && nameOwner?.errors?.required"> Requerido</small>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 py-3 py-lg-4 px-3 px-lg-5">
                        <label for="nameOwner" class="fw-bolder">UBICACIÓN</label>
                        <input id="nameOwner" type="text" class="form-control" formControlName="nameOwner" aria-label="Nombre y Apellido">
                        <div id="mensaje">
                            <small id="nameOwnerHelp" class="form-text text-muted" *ngIf="(nameOwner?.dirty || nameOwner?.touched) && nameOwner?.invalid && nameOwner?.errors?.required"> Requerido</small>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-lg-6 py-3 py-lg-4 px-3 px-lg-5">
                        <label for="nameOwner" class="fw-bolder">DESCRIPCIÓN</label>
                        <textarea id="nameOwner" type="text" class="form-control" formControlName="nameOwner" aria-label="Nombre y Apellido"></textarea>
                        <div id="mensaje">
                            <small id="nameOwnerHelp" class="form-text text-muted" *ngIf="(nameOwner?.dirty || nameOwner?.touched) && nameOwner?.invalid && nameOwner?.errors?.required"> Requerido</small>
                        </div>
                    </div>
                </div>

                    <div class="row align-items-center justify-content-center my-2"> 
                        <div class="col-md-10 text-center">
                            <input class="d-none" type="file" accept="image/png, image/jpeg" (change)="selectFile($event)" #inputFile>
                            <ng-container>
                                <ng-container *ngIf="!imageChangedEvent; else cropper">
                                    <div class="container-fluid bg-secondary py-4 pointer" (click)="inputFile.click()" style="cursor: pointer;">
                                        <span><i class="fas fa-images fa-4x text-lightgrey"></i></span>
                                        <div class="row text-center mt-2">
                                            <div class="col-md-12">
                                                <h6 class="text-white">Subir foto</h6>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-template #cropper>
                                    <div class="row align-items-center justify-content-center mt-3">
                                        <div class="col-md-10 text-center">
                                            <form>
                                                <image-cropper
                                                    [imageChangedEvent]="imageChangedEvent"
                                                    [maintainAspectRatio]="false"
                                                    [aspectRatio]="4 / 3"
                                                    format="png"
                                                    (imageCropped)="imageCropped($event)"
                                                ></image-cropper>
                                                <div class="row mt-4">
                                                    <div class="col-md-8">
                                                        <img [src]="croppedImage" class="img-fluid" width="500" height="500">
                                                    </div>
                                                    <div class="col-md-4 align-self-center">
                                                        <button class="btn btn-block btn-success" (click)="inputFile.click()">Cambiar foto</button>
                                                        <button class="btn btn-block btn-danger mt-3" (click)="cancelPhotoChange()">Cancelar</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </ng-template>
                            </ng-container>
                            <ng-template #showPhoto>
                                <img class="img-fluid" [src]="checkoutForm.get('imgUrl')?.value" (click)="inputFile.click()">
                            </ng-template>
                        </div>
                    </div>
                <div class="button-group text-center mt-3">
                    <button type="submit" class="btn btn-lg btn-primary text-center">Guardar</button>
                </div>
            </form>
        </div>
    </div>
</div>
